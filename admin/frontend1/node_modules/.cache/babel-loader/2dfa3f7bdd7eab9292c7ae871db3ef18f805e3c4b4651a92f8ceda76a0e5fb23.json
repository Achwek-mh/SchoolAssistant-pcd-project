{"ast":null,"code":"var _jsxFileName = \"/home/achwak/Desktop/SchoolAssistant-pcd-project/admin/frontend/src/pages/profiles/student.js\",\n  _s = $RefreshSig$();\n/* import '../ui.scss'\nimport axios from 'axios';\n\nimport { Row, Col, Table, Card, CardTitle, CardBody, Badge,Form,FormGroup,InputGroup,InputGroupText ,Label} from \"reactstrap\";\nimport { AiOutlineSearch } from 'react-icons/ai';\nimport studentsService from \"../../services/student.service\" ;\nimport Swal from 'sweetalert2';\nimport { useState ,useEffect } from \"react\";\nimport { Input } from \"reactstrap\";\nimport { Button, Modal, ModalHeader, ModalBody } from 'reactstrap';\n\nimport { useAuthContext } from '../../shared/useAuthContext'; \nimport { useDataContext } from '../../hooks/useDataContext';\n \nconst Prof = () => {\n  const [searchtext,setsearchtext]=useState(\"\");\n  const [modal, setModal] = useState(false);\n  const [id, setId] = useState(null);\n  const [submitted, setSubmitted] = useState(null);\n\n  const { user } = useAuthContext()\n const { Data ,dispatch } = useDataContext()\n   const[ Json,setjson]=useState('')\n\n\n  const initialTutorialState = {\n    id: null,\n    Nom: \"\",\n    Info: \"\",\n    Email:\"\",\n\n    Image: \"\"\n    \n   \n  };\n  const [currentUser, setCurrentUser] = useState(initialTutorialState);\n\n  const [state,setState]=useState(false)\n  const[message,setMessage] =useState('');\n\n  const toggle = () => setModal(!modal);\n  const[result,setResult]=useState([])\n useEffect(() => {\n    const fetchData = async () => {\n \n        studentsService.getStudents().then(async res=>{\n        if(res){\n\n        \n            dispatch({type: 'SET_Data', payload: res.data})\n            setjson(res.data)\n        }\n\n      })\n      .catch({})\n    }\n\n \n      fetchData()\n    \n  }, [dispatch,state])\n  const Submit = event => {\n    event.preventDefault();\n    \n    // Upload the image to the server\n    const formData = new FormData();\n    formData.append('Image', currentUser.Image);\n    axios.post('http://localhost:5000/upload-image-student', formData)\n      .then(response => {\n        console.log(response.data.message);\n        // Add a new entry to the Prof table\n        const prof = { \n          Image: currentUser.Image,\n          Nom: currentUser.Nom,\n          Info: currentUser.Info,\n          Contact: currentUser.Contact,\n          Email: currentUser.Email\n        };\n        console.log(prof)\n        axios.post('http://localhost:5000/addstudent', prof)\n          .then(response => {\n            console.log(response.data.message);\n            // Update the list of entries from the Prof table\n            axios.get('http://localhost:5000/getstudent')\n              .then(response => {\n                console.log(response)\n                setMessage(\"The tutorial was updated successfully!\");\n                setSubmitted(true);\n                setState(!state)\n              })\n              .catch(error => {\n                console.log(error);\n              });\n          })\n          .catch(error => {\n            console.log(error);\n          });\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  };\n  \n\n  const handleSubmit = async(e) => {\n    e.preventDefault();\n     const student ={Image:currentUser.Image,Nom:currentUser.Nom,Info:currentUser.Info,etudiantcol:currentUser.etudiantcol,Email:currentUser.Email}\n        \n     studentsService.save(student).then(res=>{ \n          if (res){\n            console.log(res)\n     \n        setMessage(\"The tutorial was updated successfully!\");\n        setSubmitted(true);\n        setState(!state)\n      }\n    else \n  {\n  }\n })\n \n  }\n\n\n\n const editt=(data,e)=>{\n   e.preventDefault();\n  toggle() ;\n  setId(data.id);\n  setCurrentUser(data)\n\n  console.log(data.id) \n} \n\n const update=async(e)=>{\n  e.preventDefault();\n  toggle() ;\n  e.preventDefault();\n  studentsService.updateStudent(id,currentUser).then(res=>{ \n  if (res){\n  Swal.fire({ \n   \n  text:   \"le profile est mis à jour avec succées\",\n  confirmButtonText: 'Cancel',\n  icon : \"success\" ,\n  confirmButtonColor:\"#979292 \"\n\n}) \nsetMessage(\"The tutorial was updated successfully!\");\nsetState(!state)\n}})\n   .catch(e => {\n     console.log(e);\n   \n   })\n \n\n\n} \n\nconst handleInputChange = event => {\n  const { name, value } = event.target;\n  setCurrentUser({ ...currentUser, [name]: value });\n};\n\n\nconst Delete=(id,e)=>{\n  console.log(id)\n  Swal.fire({\n           text:   \"Tu est sur de supprimer ce profil ?\",\n           icon: 'warning' ,\n           showCancelButton: true,  \n   confirmButtonText: `Yes`,  \n   confirmButtonColor: \"#ff6873\", \n       \n         }).then((result) => {\n           if (result.isConfirmed) {\n \n deletee(id,e) ;   \n Swal.fire({text:   \"profil supprimé avec succées\",\n icon: 'success' ,\n confirmButtonText: `OK`, \n confirmButtonColor: \"#ff6873\",\n })         \n           } else\n           Swal.fire({text:   \"Cancelled\",\n           icon: 'error' ,\n           confirmButtonText: `OK`, \n           confirmButtonColor: \"#ff6873\",\n     })\n \n       }) \n \n \n } \n const deletee =async(tdata,e)=>{\n\n  e.preventDefault();\n  studentsService.deleteStudent(tdata.id).then(res=>{\n    if(res){\n      dispatch({type: 'DELETE_Data', payload: tdata})\n      setState(!state)\n    }\n    \n  }).catch(e => {\n    console.log(e);\n  })\n\n} \n\n  return (\n    <div>\n     \n\n    <Row>\n    \n      <Col >\n\n      <Form className=\"navbar-search navbar-search-dark \" onSubmit={(e)=>{handleSubmit(e)}}>\n            <FormGroup className=\"mb-0\">\n              <div style={{borderRadius:30  ,marginTop:'10px',marginBottom:'10px',width:'300px',float:\"right\"}}>\n              <InputGroup className=\"input-group-alternative\">\n                <InputGroupText style={{backgroundColor:\"transparent\", borderColor:\"#7a7878\" }}>\n                 \n                  <AiOutlineSearch style={{color:\"#555555\"}} />\n                </InputGroupText>\n                <Input  placeholder=\"Search\" type=\"text\" style={{backgroundColor:\"transparent\", borderColor:\" #7a7878\"}}  onChange={(event)=>{setsearchtext(event.target.value)}} />\n              </InputGroup>\n              </div>\n            </FormGroup>\n       \n            <Card style ={{width:1500 ,marginLeft:'-40px'}} >\n          <CardTitle tag=\"h6\" className=\"border-bottom p-3 mb-0\">\n            <i className=\"bi bi-card-text me-2\"> </i>\n            Members\n          </CardTitle>\n          <CardBody style ={{width:1600}}>\n          <Row onSubmit={handleSubmit}>\n      <Col style={{marginLeft:'80px'}}>\n        <Label>Image:</Label>\n        <Input\n          type=\"text\"\n          name=\"Image\"\n          id=\"Image\"\n          value={currentUser.Image}\n          onChange={(e) => handleInputChange(e)} \n        />\n      </Col>\n      <Col>\n        <Label>Name:</Label>\n        <Input\n          type=\"text\"\n          name=\"Nom\"\n          id=\"Nom\"\n\n          value={currentUser.Nom}\n          onChange={(e) => handleInputChange(e)} style={{width:'250px'}}\n        />\n      </Col>\n      <Col>\n        <Label>Info:</Label>\n        <Input\n          type=\"text\"\n          name=\"Info\"\n          id=\"Info\"\n\n          value={currentUser.Info}\n          onChange={(e) => handleInputChange(e)} style={{width:'300px'}}\n        />\n      </Col>\n     \n      <Col >\n        <Label>email:</Label>\n        <Input\n          type=\"text\"\n          name=\"Email\"\n          id=\"Email\"\n\n          value={currentUser.Email}\n          onChange={(e) => handleInputChange(e)} style={{width:'250px'}}\n        />\n      </Col>\n       <Col>\n       <Button type=\"submit\" style={{borderRadius:30  ,marginTop:'35px',marginBottom:'10px',width:'70px',float:'flex-end'}}>OK</Button>\n\n      </Col>\n      \n    </Row>\n    </CardBody>\n    </Card>\n    </Form>\n\n    <Card style ={{width:1500 ,marginLeft:'-40px'}}>\n    <CardBody style ={{width:1550,marginLeft:'-40px'}}>\n\n            <Table className=\"no-wrap  align-left\"  responsive borderless >\n              <thead>\n                <tr>\n                  <th>#</th>\n                  <th>Image</th>\n                 \n                  <th>Name</th>\n                  <th>Info</th>\n                  <th>Email</th>\n\n                   \n\n                  { <th>Actions</th>}  \n                \n                </tr>\n              </thead>\n            \n              \n              <tbody>\n             {Json && Json.filter((val)=>{\n                if(searchtext===\"\")\n                return val ;\n                else if (val.name.toLowerCase().includes(searchtext.toLowerCase())){\n                  return val\n                }\n              }).map((tdata, index) => ( \n                    <tr key={index}>\n                  <td>{index+1}</td> \n                    \n               <td></td>\n                <td>{tdata && tdata.Nom}</td>\n            <td style={{width:400}}>{tdata && tdata.Info}</td>\n\n            <td >{tdata && tdata.Email}</td>\n\n\n            \n                      <td style={{width:\"250px\",float:\"right\"}}> <><Button className =\"edit\" id=\"b5\" style={{marginTop:-2 ,float:\"right\",alignItems: 'flex-end'}}  >\n                  <i className=\"bi bi-pencil-fill\" style ={{fontSize: 20+\"px\",color:\"yellow\"}}  onClick={(e)=>editt(tdata,e) }></i>\n                  \n                \n                </Button> \n              \n                <Button id =\"b4\"   onClick={(e)=>Delete(tdata,e)}     > \n                      <span className=\"trash\">\n                      <span></span>\n                        <i></i>\n            \n                      </span>\n                    </Button> </> \n                      \n                      \n                      \n                          </td> \n                      \n                          \n                      </tr> ))} \n                      </tbody> \n           \n  \n          \n            </Table>\n\n          </CardBody>\n        </Card>\n      </Col>\n    </Row>\n    \n    <Modal isOpen={modal} toggle={toggle} {...result} className=\"Modal1\"  size=\"lg\" style={{maxWidth: '2000px', width: '100%'}}>\n    <ModalHeader toggle={toggle}>Modal title</ModalHeader>\n    <ModalBody>\n    <form\n          id=\"form\"\n          action=\"/\"\n          method=\"POST\"\n        \n        >\n    <Table borderless>\n    <thead>\n                <tr>\n                  <th className =\"th\">Name</th>\n               \n                 \n                  <th>info</th>\n                  <th>email</th>\n                 \n\n                \n                  \n                </tr>\n              </thead>\n            \n            \n              <tbody>\n            \n        \n          <tr>\n            <td>\n\n              <div className='inline'>\n                <Row>\n                  <Col>\n\n                  <Input \n              placeholder=\" nom\"\n              type=\"string\"\n              name=\"Nom\" id=\"Nom\"\n              className=\"input-field\"\n              onChange={(e) => handleInputChange(e)}\n              value={currentUser.Nom}\n            />   </Col>  \n      \n\n                </Row>\n            \n          </div>\n            </td>\n            <td>\n \n            <Input  \n              placeholder=\"info\"\n              type=\"string\"\n              name=\"Info\"\n              id=\"Info\"\n              className=\"input-field\"\n              onChange={(e) => handleInputChange(e)}\n              value={currentUser.Info}\n            />\n       \n\n      \n          </td>\n            <td>\n \n <Input \n   placeholder=\"etudiantcol\"\n   type=\"string\"\n   name=\"Email\"\n   id=\"id\"\n   className=\"input-field\"\n   onChange={(e) => handleInputChange(e)}\n   value={currentUser.Email}\n   required\n > \n                </Input>  </td>\n\n           \n    \n\n\n       \n          </tr>\n    \n      \n                  </tbody>\n                  </Table>  \n                  <Button type=\"submit\" id=\"submit-button\"  onClick={e=>update(e)} >\n            submit\n          </Button>  \n        </form>\n    </ModalBody>\n    \n  </Modal>\n    \n  </div>\n  );\n};\n\nexport default Prof;\n\n\n */\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [name, setName] = useState('');\n  const [info, setInfo] = useState('');\n  const [image, setImage] = useState(null);\n  const [email, setEmail] = useState('');\n  const [profs, setProfs] = useState([]);\n  useEffect(() => {\n    // Get all entries from the Prof table\n    axios.get('/get-profs').then(response => {\n      setProfs(response.data);\n    }).catch(error => {\n      console.log(error);\n    });\n  }, []);\n  const handleNameChange = event => {\n    setName(event.target.value);\n  };\n  const handleInfoChange = event => {\n    setInfo(event.target.value);\n  };\n  const handleImageChange = event => {\n    setImage(event.target.files[0]);\n  };\n  const handleEmailChange = event => {\n    setEmail(event.target.value);\n  };\n  const handleSubmit = event => {\n    event.preventDefault();\n\n    // Upload the image to the server\n    const formData = new FormData();\n    formData.append('image', image);\n    axios.post('/upload-image', formData).then(response => {\n      console.log(response.data.message);\n      // Add a new entry to the Prof table\n      axios.post('/add-prof', {\n        name,\n        info,\n        image: response.data.filename,\n        email\n      }).then(response => {\n        console.log(response.data.message);\n        // Update the list of entries from the Prof table\n        axios.get('/get-profs').then(response => {\n          setProfs(response.data);\n        }).catch(error => {\n          console.log(error);\n        });\n      }).catch(error => {\n        console.log(error);\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n\n    // Clear the form inputs\n    setName('');\n    setInfo('');\n    setImage(null);\n    setEmail('');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Add a new Prof\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 545,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Name:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: name,\n          onChange: handleNameChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 549,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 547,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 551,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Info:\", /*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: info,\n          onChange: handleInfoChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 554,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 552,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 556,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Image:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          onChange: handleImageChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 559,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 557,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 561,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Email:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: email,\n          onChange: handleEmailChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 564,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 562,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 566,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Add Prof\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 567,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 546,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Profs\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 570,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: profs.map((prof, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: prof.Name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 574,\n          columnNumber: 13\n        }, this), \" (\", prof.Email, \")\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 574,\n          columnNumber: 56\n        }, this), prof.Info, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 575,\n          columnNumber: 24\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: `http://localhost:5000/images/${prof.Image}`,\n          alt: prof.Name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 576,\n          columnNumber: 13\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 573,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 571,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 544,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"GlVllH7yZgmnCFiW/gLdiFX3QKk=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","axios","App","name","setName","info","setInfo","image","setImage","email","setEmail","profs","setProfs","get","then","response","data","catch","error","console","log","handleNameChange","event","target","value","handleInfoChange","handleImageChange","files","handleEmailChange","handleSubmit","preventDefault","formData","FormData","append","post","message","filename","map","prof","index","Name","Email","Info","Image"],"sources":["/home/achwak/Desktop/SchoolAssistant-pcd-project/admin/frontend/src/pages/profiles/student.js"],"sourcesContent":["/* import '../ui.scss'\nimport axios from 'axios';\n\nimport { Row, Col, Table, Card, CardTitle, CardBody, Badge,Form,FormGroup,InputGroup,InputGroupText ,Label} from \"reactstrap\";\nimport { AiOutlineSearch } from 'react-icons/ai';\nimport studentsService from \"../../services/student.service\" ;\nimport Swal from 'sweetalert2';\nimport { useState ,useEffect } from \"react\";\nimport { Input } from \"reactstrap\";\nimport { Button, Modal, ModalHeader, ModalBody } from 'reactstrap';\n\nimport { useAuthContext } from '../../shared/useAuthContext'; \nimport { useDataContext } from '../../hooks/useDataContext';\n \nconst Prof = () => {\n  const [searchtext,setsearchtext]=useState(\"\");\n  const [modal, setModal] = useState(false);\n  const [id, setId] = useState(null);\n  const [submitted, setSubmitted] = useState(null);\n\n  const { user } = useAuthContext()\n const { Data ,dispatch } = useDataContext()\n   const[ Json,setjson]=useState('')\n\n\n  const initialTutorialState = {\n    id: null,\n    Nom: \"\",\n    Info: \"\",\n    Email:\"\",\n\n    Image: \"\"\n    \n   \n  };\n  const [currentUser, setCurrentUser] = useState(initialTutorialState);\n\n  const [state,setState]=useState(false)\n  const[message,setMessage] =useState('');\n\n  const toggle = () => setModal(!modal);\n  const[result,setResult]=useState([])\n useEffect(() => {\n    const fetchData = async () => {\n \n        studentsService.getStudents().then(async res=>{\n        if(res){\n\n        \n            dispatch({type: 'SET_Data', payload: res.data})\n            setjson(res.data)\n        }\n\n      })\n      .catch({})\n    }\n\n \n      fetchData()\n    \n  }, [dispatch,state])\n  const Submit = event => {\n    event.preventDefault();\n    \n    // Upload the image to the server\n    const formData = new FormData();\n    formData.append('Image', currentUser.Image);\n    axios.post('http://localhost:5000/upload-image-student', formData)\n      .then(response => {\n        console.log(response.data.message);\n        // Add a new entry to the Prof table\n        const prof = { \n          Image: currentUser.Image,\n          Nom: currentUser.Nom,\n          Info: currentUser.Info,\n          Contact: currentUser.Contact,\n          Email: currentUser.Email\n        };\n        console.log(prof)\n        axios.post('http://localhost:5000/addstudent', prof)\n          .then(response => {\n            console.log(response.data.message);\n            // Update the list of entries from the Prof table\n            axios.get('http://localhost:5000/getstudent')\n              .then(response => {\n                console.log(response)\n                setMessage(\"The tutorial was updated successfully!\");\n                setSubmitted(true);\n                setState(!state)\n              })\n              .catch(error => {\n                console.log(error);\n              });\n          })\n          .catch(error => {\n            console.log(error);\n          });\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  };\n  \n\n  const handleSubmit = async(e) => {\n    e.preventDefault();\n     const student ={Image:currentUser.Image,Nom:currentUser.Nom,Info:currentUser.Info,etudiantcol:currentUser.etudiantcol,Email:currentUser.Email}\n        \n     studentsService.save(student).then(res=>{ \n          if (res){\n            console.log(res)\n     \n        setMessage(\"The tutorial was updated successfully!\");\n        setSubmitted(true);\n        setState(!state)\n      }\n    else \n  {\n  }\n })\n \n  }\n\n\n\n const editt=(data,e)=>{\n   e.preventDefault();\n  toggle() ;\n  setId(data.id);\n  setCurrentUser(data)\n\n  console.log(data.id) \n} \n\n const update=async(e)=>{\n  e.preventDefault();\n  toggle() ;\n  e.preventDefault();\n  studentsService.updateStudent(id,currentUser).then(res=>{ \n  if (res){\n  Swal.fire({ \n   \n  text:   \"le profile est mis à jour avec succées\",\n  confirmButtonText: 'Cancel',\n  icon : \"success\" ,\n  confirmButtonColor:\"#979292 \"\n\n}) \nsetMessage(\"The tutorial was updated successfully!\");\nsetState(!state)\n}})\n   .catch(e => {\n     console.log(e);\n   \n   })\n \n\n\n} \n\nconst handleInputChange = event => {\n  const { name, value } = event.target;\n  setCurrentUser({ ...currentUser, [name]: value });\n};\n\n\nconst Delete=(id,e)=>{\n  console.log(id)\n  Swal.fire({\n           text:   \"Tu est sur de supprimer ce profil ?\",\n           icon: 'warning' ,\n           showCancelButton: true,  \n   confirmButtonText: `Yes`,  \n   confirmButtonColor: \"#ff6873\", \n       \n         }).then((result) => {\n           if (result.isConfirmed) {\n \n deletee(id,e) ;   \n Swal.fire({text:   \"profil supprimé avec succées\",\n icon: 'success' ,\n confirmButtonText: `OK`, \n confirmButtonColor: \"#ff6873\",\n })         \n           } else\n           Swal.fire({text:   \"Cancelled\",\n           icon: 'error' ,\n           confirmButtonText: `OK`, \n           confirmButtonColor: \"#ff6873\",\n     })\n \n       }) \n \n \n } \n const deletee =async(tdata,e)=>{\n\n  e.preventDefault();\n  studentsService.deleteStudent(tdata.id).then(res=>{\n    if(res){\n      dispatch({type: 'DELETE_Data', payload: tdata})\n      setState(!state)\n    }\n    \n  }).catch(e => {\n    console.log(e);\n  })\n\n} \n\n  return (\n    <div>\n     \n\n    <Row>\n    \n      <Col >\n\n      <Form className=\"navbar-search navbar-search-dark \" onSubmit={(e)=>{handleSubmit(e)}}>\n            <FormGroup className=\"mb-0\">\n              <div style={{borderRadius:30  ,marginTop:'10px',marginBottom:'10px',width:'300px',float:\"right\"}}>\n              <InputGroup className=\"input-group-alternative\">\n                <InputGroupText style={{backgroundColor:\"transparent\", borderColor:\"#7a7878\" }}>\n                 \n                  <AiOutlineSearch style={{color:\"#555555\"}} />\n                </InputGroupText>\n                <Input  placeholder=\"Search\" type=\"text\" style={{backgroundColor:\"transparent\", borderColor:\" #7a7878\"}}  onChange={(event)=>{setsearchtext(event.target.value)}} />\n              </InputGroup>\n              </div>\n            </FormGroup>\n       \n            <Card style ={{width:1500 ,marginLeft:'-40px'}} >\n          <CardTitle tag=\"h6\" className=\"border-bottom p-3 mb-0\">\n            <i className=\"bi bi-card-text me-2\"> </i>\n            Members\n          </CardTitle>\n          <CardBody style ={{width:1600}}>\n          <Row onSubmit={handleSubmit}>\n      <Col style={{marginLeft:'80px'}}>\n        <Label>Image:</Label>\n        <Input\n          type=\"text\"\n          name=\"Image\"\n          id=\"Image\"\n          value={currentUser.Image}\n          onChange={(e) => handleInputChange(e)} \n        />\n      </Col>\n      <Col>\n        <Label>Name:</Label>\n        <Input\n          type=\"text\"\n          name=\"Nom\"\n          id=\"Nom\"\n\n          value={currentUser.Nom}\n          onChange={(e) => handleInputChange(e)} style={{width:'250px'}}\n        />\n      </Col>\n      <Col>\n        <Label>Info:</Label>\n        <Input\n          type=\"text\"\n          name=\"Info\"\n          id=\"Info\"\n\n          value={currentUser.Info}\n          onChange={(e) => handleInputChange(e)} style={{width:'300px'}}\n        />\n      </Col>\n     \n      <Col >\n        <Label>email:</Label>\n        <Input\n          type=\"text\"\n          name=\"Email\"\n          id=\"Email\"\n\n          value={currentUser.Email}\n          onChange={(e) => handleInputChange(e)} style={{width:'250px'}}\n        />\n      </Col>\n       <Col>\n       <Button type=\"submit\" style={{borderRadius:30  ,marginTop:'35px',marginBottom:'10px',width:'70px',float:'flex-end'}}>OK</Button>\n\n      </Col>\n      \n    </Row>\n    </CardBody>\n    </Card>\n    </Form>\n\n    <Card style ={{width:1500 ,marginLeft:'-40px'}}>\n    <CardBody style ={{width:1550,marginLeft:'-40px'}}>\n\n            <Table className=\"no-wrap  align-left\"  responsive borderless >\n              <thead>\n                <tr>\n                  <th>#</th>\n                  <th>Image</th>\n                 \n                  <th>Name</th>\n                  <th>Info</th>\n                  <th>Email</th>\n\n                   \n\n                  { <th>Actions</th>}  \n                \n                </tr>\n              </thead>\n            \n              \n              <tbody>\n             {Json && Json.filter((val)=>{\n                if(searchtext===\"\")\n                return val ;\n                else if (val.name.toLowerCase().includes(searchtext.toLowerCase())){\n                  return val\n                }\n              }).map((tdata, index) => ( \n                    <tr key={index}>\n                  <td>{index+1}</td> \n                    \n               <td></td>\n                <td>{tdata && tdata.Nom}</td>\n            <td style={{width:400}}>{tdata && tdata.Info}</td>\n\n            <td >{tdata && tdata.Email}</td>\n\n\n            \n                      <td style={{width:\"250px\",float:\"right\"}}> <><Button className =\"edit\" id=\"b5\" style={{marginTop:-2 ,float:\"right\",alignItems: 'flex-end'}}  >\n                  <i className=\"bi bi-pencil-fill\" style ={{fontSize: 20+\"px\",color:\"yellow\"}}  onClick={(e)=>editt(tdata,e) }></i>\n                  \n                \n                </Button> \n              \n                <Button id =\"b4\"   onClick={(e)=>Delete(tdata,e)}     > \n                      <span className=\"trash\">\n                      <span></span>\n                        <i></i>\n            \n                      </span>\n                    </Button> </> \n                      \n                      \n                      \n                          </td> \n                      \n                          \n                      </tr> ))} \n                      </tbody> \n           \n  \n          \n            </Table>\n\n          </CardBody>\n        </Card>\n      </Col>\n    </Row>\n    \n    <Modal isOpen={modal} toggle={toggle} {...result} className=\"Modal1\"  size=\"lg\" style={{maxWidth: '2000px', width: '100%'}}>\n    <ModalHeader toggle={toggle}>Modal title</ModalHeader>\n    <ModalBody>\n    <form\n          id=\"form\"\n          action=\"/\"\n          method=\"POST\"\n        \n        >\n    <Table borderless>\n    <thead>\n                <tr>\n                  <th className =\"th\">Name</th>\n               \n                 \n                  <th>info</th>\n                  <th>email</th>\n                 \n\n                \n                  \n                </tr>\n              </thead>\n            \n            \n              <tbody>\n            \n        \n          <tr>\n            <td>\n\n              <div className='inline'>\n                <Row>\n                  <Col>\n\n                  <Input \n              placeholder=\" nom\"\n              type=\"string\"\n              name=\"Nom\" id=\"Nom\"\n              className=\"input-field\"\n              onChange={(e) => handleInputChange(e)}\n              value={currentUser.Nom}\n            />   </Col>  \n      \n\n                </Row>\n            \n          </div>\n            </td>\n            <td>\n \n            <Input  \n              placeholder=\"info\"\n              type=\"string\"\n              name=\"Info\"\n              id=\"Info\"\n              className=\"input-field\"\n              onChange={(e) => handleInputChange(e)}\n              value={currentUser.Info}\n            />\n       \n\n      \n          </td>\n            <td>\n \n <Input \n   placeholder=\"etudiantcol\"\n   type=\"string\"\n   name=\"Email\"\n   id=\"id\"\n   className=\"input-field\"\n   onChange={(e) => handleInputChange(e)}\n   value={currentUser.Email}\n   required\n > \n                </Input>  </td>\n\n           \n    \n\n\n       \n          </tr>\n    \n      \n                  </tbody>\n                  </Table>  \n                  <Button type=\"submit\" id=\"submit-button\"  onClick={e=>update(e)} >\n            submit\n          </Button>  \n        </form>\n    </ModalBody>\n    \n  </Modal>\n    \n  </div>\n  );\n};\n\nexport default Prof;\n\n\n */\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nfunction App() {\n  const [name, setName] = useState('');\n  const [info, setInfo] = useState('');\n  const [image, setImage] = useState(null);\n  const [email, setEmail] = useState('');\n  const [profs, setProfs] = useState([]);\n\n  useEffect(() => {\n    // Get all entries from the Prof table\n    axios.get('/get-profs')\n      .then(response => {\n        setProfs(response.data);\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  }, []);\n\n  const handleNameChange = event => {\n    setName(event.target.value);\n  }\n\n  const handleInfoChange = event => {\n    setInfo(event.target.value);\n  }\n\n  const handleImageChange = event => {\n    setImage(event.target.files[0]);\n  }\n\n  const handleEmailChange = event => {\n    setEmail(event.target.value);\n  }\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    \n    // Upload the image to the server\n    const formData = new FormData();\n    formData.append('image', image);\n    axios.post('/upload-image', formData)\n      .then(response => {\n        console.log(response.data.message);\n        // Add a new entry to the Prof table\n        axios.post('/add-prof', { name, info, image: response.data.filename, email })\n          .then(response => {\n            console.log(response.data.message);\n            // Update the list of entries from the Prof table\n            axios.get('/get-profs')\n              .then(response => {\n                setProfs(response.data);\n              })\n              .catch(error => {\n                console.log(error);\n              });\n          })\n          .catch(error => {\n            console.log(error);\n          });\n      })\n      .catch(error => {\n        console.log(error);\n      });\n\n    // Clear the form inputs\n    setName('');\n    setInfo('');\n    setImage(null);\n    setEmail('');\n  }\n\n  return (\n    <div className=\"App\">\n      <h1>Add a new Prof</h1>\n      <form onSubmit={handleSubmit}>\n        <label>\n          Name:\n          <input type=\"text\" value={name} onChange={handleNameChange} />\n        </label>\n        <br />\n        <label>\n          Info:\n          <textarea value={info} onChange={handleInfoChange} />\n        </label>\n        <br />\n        <label>\n          Image:\n          <input type=\"file\" onChange={handleImageChange} />\n        </label>\n        <br />\n        <label>\n          Email:\n          <input type=\"text\" value={email} onChange={handleEmailChange} />\n        </label>\n        <br />\n        <button type=\"submit\">Add Prof</button>\n      </form>\n\n      <h1>Profs</h1>\n      <ul>\n        {profs.map((prof, index) => (\n          <li key={index}>\n            <strong>{prof.Name}</strong> ({prof.Email})<br />\n            {prof.Info}<br />\n            <img src={`http://localhost:5000/images/${prof.Image}`} alt={prof.Name} />\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,KA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"},"metadata":{},"sourceType":"module","externalDependencies":[]}