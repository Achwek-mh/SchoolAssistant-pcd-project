{"ast":null,"code":"var _jsxFileName = \"/home/achwak/Desktop/SchoolAssistant-pcd-project/UI/src/views/face.js\";\nimport { Routes, Route, useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport Webcam from 'react-webcam';\nimport React, { useState, useEffect, useRef, useCallback } from \"react\";\nimport { Button, Label, Form, CustomInput, Input, InputGroupAddon, InputGroupText, InputGroup, Container, Row, Col } from \"reactstrap\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Face() {\n  /*  const handleSpeechRecognition =() => {\n   \n   const recognition = new window.webkitSpeechRecognition();\n   recognition.continuous = true;\n   recognition.interimResults = true;\n   recognition.lang = \"fr-FR\";\n    recognition.onstart = () => {\n     console.log(\"Speech recognition started\");\n   };\n    recognition.onresult = (event) => {\n     let interimTranscript = \"\";\n     let finalTranscript = \"\";\n      for (let i = event.resultIndex; i < event.results.length; i++) {\n       const transcript = event.results[i][0].transcript;\n        if (event.results[i].isFinal) {\n         finalTranscript += transcript;\n       } else {\n         interimTranscript += transcript;\n       }\n     }\n      setMessage(finalTranscript);\n     console.log(finalTranscript)\n         settoken(true)\n    };\n    recognition.onerror = (event) => {\n     console.error(event.error);\n   };\n    recognition.onend = () => {\n     console.log(\"Speech recognition ended\");\n     handleSpeechRecognition();\n   };\n    recognition.start();\n  };\n  const navigatetoprof=()=>{\n  navigate('/')\n  }\n   const webcamRef = useRef(null);\n   const [name, setName] = useState(null);\n   const [message, setMessage] = useState(\"\");\n    const [logged_in, setlogged_in] = useState(false);\n   const [token, settoken] = useState(false);\n    const navigate = useNavigate();\n   const capture = async () => {\n   const imageSrc = webcamRef.current.getScreenshot();\n   if (!imageSrc) {\n     console.log(\"dfgf\")\n     return;\n   }\n   const formData = new FormData();\n   formData.append('image', imageSrc);\n  if(message==='identifier moi')\n     fetch('http://localhost:5000/login', {\n       method: 'POST',\n    \n       body:\n         formData        \n     })\n       .then((response) =>{ \n         console.log(response)\n         setName(response.statusText)\n       setlogged_in(true)\n       if (response!== (null || \"You are unknown\")){\n       setTimeout((i) => {\n        navigatetoprof(true);\n      }, 5000);\n     }\n     })\n       \n    \n     .catch(error => {\n       console.error(error);\n     });\n    }\n  useEffect(() => {\n   if (name!== (null || \"You are unknown\")){\n  const timerId = setInterval(() => {\n  setTimeLeft(prevTimeLeft => prevTimeLeft - 1);\n  }, 1000);\n  return () => clearInterval(timerId);}\n  }, []);\n  const [timeLeft, setTimeLeft] = useState(8);\n  useEffect(() => {\n  capture()\n  handleSpeechRecognition()\n  }, [message]);\n  */\n  const formData = new FormData();\n  formData.append('image', 'hello');\n  const sub = {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'multipart/form-data'\n    },\n    body: formData\n  };\n  const subb = async();\n  fetch('http://localhost:5000/reg', sub);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page-header header-filter\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wrapper\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"page-header\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"content-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"content-center brand\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(Form, {\n            onSubmit: e => {\n              sub;\n            },\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              type: \"submit\",\n              children: \"Send\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 10\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 3\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 3\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 138,\n    columnNumber: 5\n  }, this);\n}\n_c = Face;\n\nvar _c;\n\n$RefreshReg$(_c, \"Face\");","map":{"version":3,"names":["Routes","Route","useNavigate","axios","Webcam","React","useState","useEffect","useRef","useCallback","Button","Label","Form","CustomInput","Input","InputGroupAddon","InputGroupText","InputGroup","Container","Row","Col","Face","formData","FormData","append","sub","method","headers","body","subb","async","fetch","e"],"sources":["/home/achwak/Desktop/SchoolAssistant-pcd-project/UI/src/views/face.js"],"sourcesContent":["import { Routes , Route , useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport Webcam from 'react-webcam';\nimport React, { useState, useEffect, useRef,useCallback } from \"react\";\nimport {\n  Button,\n  Label,\n  Form,\n  CustomInput,\n  Input,\n  InputGroupAddon,\n  InputGroupText,\n  InputGroup,\n  Container,\n  Row,\n  Col\n} from \"reactstrap\";\nexport default function Face ()  {\n   /*  const handleSpeechRecognition =() => {\n    \n    const recognition = new window.webkitSpeechRecognition();\n    recognition.continuous = true;\n    recognition.interimResults = true;\n    recognition.lang = \"fr-FR\";\n\n    recognition.onstart = () => {\n      console.log(\"Speech recognition started\");\n    };\n\n    recognition.onresult = (event) => {\n      let interimTranscript = \"\";\n      let finalTranscript = \"\";\n\n      for (let i = event.resultIndex; i < event.results.length; i++) {\n        const transcript = event.results[i][0].transcript;\n\n        if (event.results[i].isFinal) {\n          finalTranscript += transcript;\n        } else {\n          interimTranscript += transcript;\n        }\n      }\n\n      setMessage(finalTranscript);\n      console.log(finalTranscript)\n          settoken(true)\n\n    };\n\n    recognition.onerror = (event) => {\n      console.error(event.error);\n    };\n\n    recognition.onend = () => {\n      console.log(\"Speech recognition ended\");\n      handleSpeechRecognition();\n    };\n\n    recognition.start();\n  };\n  const navigatetoprof=()=>{\n  navigate('/')\n}\n    const webcamRef = useRef(null);\n    const [name, setName] = useState(null);\n    const [message, setMessage] = useState(\"\");\n\n    const [logged_in, setlogged_in] = useState(false);\n    const [token, settoken] = useState(false);\n\n    const navigate = useNavigate();\n    const capture = async () => {\n    const imageSrc = webcamRef.current.getScreenshot();\n    if (!imageSrc) {\n      console.log(\"dfgf\")\n      return;\n    }\n    const formData = new FormData();\n    formData.append('image', imageSrc);\n   if(message==='identifier moi')\n      fetch('http://localhost:5000/login', {\n        method: 'POST',\n     \n        body:\n          formData        \n      })\n        .then((response) =>{ \n          console.log(response)\n          setName(response.statusText)\n        setlogged_in(true)\n        if (response!== (null || \"You are unknown\")){\n        setTimeout((i) => {\n         navigatetoprof(true);\n       }, 5000);\n      }\n      })\n        \n     \n      .catch(error => {\n        console.error(error);\n      });\n  \n  }\nuseEffect(() => {\n    if (name!== (null || \"You are unknown\")){\n const timerId = setInterval(() => {\n   setTimeLeft(prevTimeLeft => prevTimeLeft - 1);\n }, 1000);\n\n return () => clearInterval(timerId);}\n}, []);\n\nconst [timeLeft, setTimeLeft] = useState(8);\n\n\n\nuseEffect(() => {\n   capture()\n   handleSpeechRecognition()\n  }, [message]);\n */\n \n    const formData = new FormData();\n    formData.append('image', 'hello');\n    const sub =  {\n  \n\n      method: 'POST',\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      },\n      body: formData\n    }\n    const subb =async()\n    fetch('http://localhost:5000/reg', sub)\n   \n  return (\n    <div className=\"page-header header-filter\">\n    <div className=\"wrapper\">\n  <div className=\"page-header\">\n  <div className=\"content-center\">\n\n    \n      <div className=\"content-center brand\" ></div>\n      <Form  onSubmit= {(e)=>{sub}} >\n        \n         <Button type=\"submit\">Send</Button>\n        </Form>\n\n    \n        \n \n  </div>\n  </div>\n  </div>\n  </div>\n   \n   \n)\n\n \n  }\n\n\n\n"],"mappings":";AAAA,SAASA,MAAT,EAAkBC,KAAlB,EAA0BC,WAA1B,QAA6C,kBAA7C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,cAAnB;AACA,OAAOC,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,MAArC,EAA4CC,WAA5C,QAA+D,OAA/D;AACA,SACEC,MADF,EAEEC,KAFF,EAGEC,IAHF,EAIEC,WAJF,EAKEC,KALF,EAMEC,eANF,EAOEC,cAPF,EAQEC,UARF,EASEC,SATF,EAUEC,GAVF,EAWEC,GAXF,QAYO,YAZP;;AAaA,eAAe,SAASC,IAAT,GAAkB;EAC9B;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EAmBI,MAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;EACAD,QAAQ,CAACE,MAAT,CAAgB,OAAhB,EAAyB,OAAzB;EACA,MAAMC,GAAG,GAAI;IAGXC,MAAM,EAAE,MAHG;IAIXC,OAAO,EAAE;MACP,gBAAgB;IADT,CAJE;IAOXC,IAAI,EAAEN;EAPK,CAAb;EASA,MAAMO,IAAI,GAAEC,KAAK,EAAjB;EACAC,KAAK,CAAC,2BAAD,EAA8BN,GAA9B,CAAL;EAEF,oBACE;IAAK,SAAS,EAAC,2BAAf;IAAA,uBACA;MAAK,SAAS,EAAC,SAAf;MAAA,uBACF;QAAK,SAAS,EAAC,aAAf;QAAA,uBACA;UAAK,SAAS,EAAC,gBAAf;UAAA,wBAGI;YAAK,SAAS,EAAC;UAAf;YAAA;YAAA;YAAA;UAAA,QAHJ,eAII,QAAC,IAAD;YAAO,QAAQ,EAAIO,CAAD,IAAK;cAACP,GAAG;YAAC,CAA5B;YAAA,uBAEG,QAAC,MAAD;cAAQ,IAAI,EAAC,QAAb;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA;UAFH;YAAA;YAAA;YAAA;UAAA,QAJJ;QAAA;UAAA;UAAA;UAAA;QAAA;MADA;QAAA;QAAA;QAAA;MAAA;IADE;MAAA;MAAA;MAAA;IAAA;EADA;IAAA;IAAA;IAAA;EAAA,QADF;AAyBC;KAhJqBJ,I"},"metadata":{},"sourceType":"module"}