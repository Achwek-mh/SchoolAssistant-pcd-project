{"ast":null,"code":"var _jsxFileName = \"/home/achwak/Desktop/SchoolAssistant-pcd-project/UI/src/views/profils/profils.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Profile() {\n  _s();\n\n  const [name, setName] = useState('');\n  const [info, setInfo] = useState('');\n  const [image, setImage] = useState(null);\n  const [email, setEmail] = useState('');\n  const [profs, setProfs] = useState([]);\n  useEffect(() => {\n    // Get all entries from the Prof table\n    axios.get('/get-profs').then(response => {\n      setProfs(response.data);\n    }).catch(error => {\n      console.log(error);\n    });\n  }, []);\n\n  const handleNameChange = event => {\n    setName(event.target.value);\n  };\n\n  const handleInfoChange = event => {\n    setInfo(event.target.value);\n  };\n\n  const handleImageChange = event => {\n    setImage(event.target.files[0]);\n  };\n\n  const handleEmailChange = event => {\n    setEmail(event.target.value);\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault(); // Upload the image to the server\n\n    const formData = new FormData();\n    formData.append('image', image);\n    axios.post('http://localhost:5000/upload-image', formData).then(response => {\n      console.log(response.data.message); // Add a new entry to the Prof table\n\n      axios.post('http://localhost:5000/add-prof', {\n        name,\n        info,\n        image: response.data.filename,\n        email\n      }).then(response => {\n        console.log(response.data.message); // Update the list of entries from the Prof table\n\n        axios.get('http://localhost:5000/get-profs').then(response => {\n          setProfs(response.data);\n        }).catch(error => {\n          console.log(error);\n        });\n      }).catch(error => {\n        console.log(error);\n      });\n    }).catch(error => {\n      console.log(error);\n    }); // Clear the form inputs\n\n    setName('');\n    setInfo('');\n    setImage(null);\n    setEmail('');\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Add a new Prof\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Name:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: name,\n          onChange: handleNameChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Info:\", /*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: info,\n          onChange: handleInfoChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Image:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          onChange: handleImageChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Email:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: email,\n          onChange: handleEmailChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Add Prof\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Profs\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: profs.map((prof, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: prof.Name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 13\n        }, this), \" (\", prof.Email, \")\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 56\n        }, this), prof.Info, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 24\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: `http://localhost:5000/images/${prof.Image}`,\n          alt: prof.Name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 13\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Profile, \"GlVllH7yZgmnCFiW/gLdiFX3QKk=\");\n\n_c = Profile;\nexport default Profile;\n\nvar _c;\n\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["React","useState","useEffect","axios","Profile","name","setName","info","setInfo","image","setImage","email","setEmail","profs","setProfs","get","then","response","data","catch","error","console","log","handleNameChange","event","target","value","handleInfoChange","handleImageChange","files","handleEmailChange","handleSubmit","preventDefault","formData","FormData","append","post","message","filename","map","prof","index","Name","Email","Info","Image"],"sources":["/home/achwak/Desktop/SchoolAssistant-pcd-project/UI/src/views/profils/profils.js"],"sourcesContent":["import React, { useState,useEffect } from 'react';\nimport axios from 'axios';\n\nfunction Profile() {\n  const [name, setName] = useState('');\n  const [info, setInfo] = useState('');\n  const [image, setImage] = useState(null);\n  const [email, setEmail] = useState('');\n  const [profs, setProfs] = useState([]);\n\n  useEffect(() => {\n    // Get all entries from the Prof table\n    axios.get('/get-profs')\n      .then(response => {\n        setProfs(response.data);\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  }, []);\n\n  const handleNameChange = event => {\n    setName(event.target.value);\n  }\n\n  const handleInfoChange = event => {\n    setInfo(event.target.value);\n  }\n\n  const handleImageChange = event => {\n    setImage(event.target.files[0]);\n  }\n\n  const handleEmailChange = event => {\n    setEmail(event.target.value);\n  }\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    \n    // Upload the image to the server\n    const formData = new FormData();\n    formData.append('image', image);\n    axios.post('http://localhost:5000/upload-image', formData)\n      .then(response => {\n        console.log(response.data.message);\n        // Add a new entry to the Prof table\n        axios.post('http://localhost:5000/add-prof', { name, info, image: response.data.filename, email })\n          .then(response => {\n            console.log(response.data.message);\n            // Update the list of entries from the Prof table\n            axios.get('http://localhost:5000/get-profs')\n              .then(response => {\n                setProfs(response.data);\n              })\n              .catch(error => {\n                console.log(error);\n              });\n          })\n          .catch(error => {\n            console.log(error);\n          });\n      })\n      .catch(error => {\n        console.log(error);\n      });\n\n    // Clear the form inputs\n    setName('');\n    setInfo('');\n    setImage(null);\n    setEmail('');\n  }\n\n  return (\n    <div className=\"App\">\n      <h1>Add a new Prof</h1>\n      <form onSubmit={handleSubmit}>\n        <label>\n          Name:\n          <input type=\"text\" value={name} onChange={handleNameChange} />\n        </label>\n        <br />\n        <label>\n          Info:\n          <textarea value={info} onChange={handleInfoChange} />\n        </label>\n        <br />\n        <label>\n          Image:\n          <input type=\"file\" onChange={handleImageChange} />\n        </label>\n        <br />\n        <label>\n          Email:\n          <input type=\"text\" value={email} onChange={handleEmailChange} />\n        </label>\n        <br />\n        <button type=\"submit\">Add Prof</button>\n      </form>\n\n      <h1>Profs</h1>\n      <ul>\n        {profs.map((prof, index) => (\n          <li key={index}>\n            <strong>{prof.Name}</strong> ({prof.Email})<br />\n            {prof.Info}<br />\n            <img src={`http://localhost:5000/images/${prof.Image}`} alt={prof.Name} />\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n\nexport default  Profile\n  ;\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAAyBC,SAAzB,QAA0C,OAA1C;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;AAEA,SAASC,OAAT,GAAmB;EAAA;;EACjB,MAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBL,QAAQ,CAAC,EAAD,CAAhC;EACA,MAAM,CAACM,IAAD,EAAOC,OAAP,IAAkBP,QAAQ,CAAC,EAAD,CAAhC;EACA,MAAM,CAACQ,KAAD,EAAQC,QAAR,IAAoBT,QAAQ,CAAC,IAAD,CAAlC;EACA,MAAM,CAACU,KAAD,EAAQC,QAAR,IAAoBX,QAAQ,CAAC,EAAD,CAAlC;EACA,MAAM,CAACY,KAAD,EAAQC,QAAR,IAAoBb,QAAQ,CAAC,EAAD,CAAlC;EAEAC,SAAS,CAAC,MAAM;IACd;IACAC,KAAK,CAACY,GAAN,CAAU,YAAV,EACGC,IADH,CACQC,QAAQ,IAAI;MAChBH,QAAQ,CAACG,QAAQ,CAACC,IAAV,CAAR;IACD,CAHH,EAIGC,KAJH,CAISC,KAAK,IAAI;MACdC,OAAO,CAACC,GAAR,CAAYF,KAAZ;IACD,CANH;EAOD,CATQ,EASN,EATM,CAAT;;EAWA,MAAMG,gBAAgB,GAAGC,KAAK,IAAI;IAChClB,OAAO,CAACkB,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAP;EACD,CAFD;;EAIA,MAAMC,gBAAgB,GAAGH,KAAK,IAAI;IAChChB,OAAO,CAACgB,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAP;EACD,CAFD;;EAIA,MAAME,iBAAiB,GAAGJ,KAAK,IAAI;IACjCd,QAAQ,CAACc,KAAK,CAACC,MAAN,CAAaI,KAAb,CAAmB,CAAnB,CAAD,CAAR;EACD,CAFD;;EAIA,MAAMC,iBAAiB,GAAGN,KAAK,IAAI;IACjCZ,QAAQ,CAACY,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAR;EACD,CAFD;;EAIA,MAAMK,YAAY,GAAGP,KAAK,IAAI;IAC5BA,KAAK,CAACQ,cAAN,GAD4B,CAG5B;;IACA,MAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;IACAD,QAAQ,CAACE,MAAT,CAAgB,OAAhB,EAAyB1B,KAAzB;IACAN,KAAK,CAACiC,IAAN,CAAW,oCAAX,EAAiDH,QAAjD,EACGjB,IADH,CACQC,QAAQ,IAAI;MAChBI,OAAO,CAACC,GAAR,CAAYL,QAAQ,CAACC,IAAT,CAAcmB,OAA1B,EADgB,CAEhB;;MACAlC,KAAK,CAACiC,IAAN,CAAW,gCAAX,EAA6C;QAAE/B,IAAF;QAAQE,IAAR;QAAcE,KAAK,EAAEQ,QAAQ,CAACC,IAAT,CAAcoB,QAAnC;QAA6C3B;MAA7C,CAA7C,EACGK,IADH,CACQC,QAAQ,IAAI;QAChBI,OAAO,CAACC,GAAR,CAAYL,QAAQ,CAACC,IAAT,CAAcmB,OAA1B,EADgB,CAEhB;;QACAlC,KAAK,CAACY,GAAN,CAAU,iCAAV,EACGC,IADH,CACQC,QAAQ,IAAI;UAChBH,QAAQ,CAACG,QAAQ,CAACC,IAAV,CAAR;QACD,CAHH,EAIGC,KAJH,CAISC,KAAK,IAAI;UACdC,OAAO,CAACC,GAAR,CAAYF,KAAZ;QACD,CANH;MAOD,CAXH,EAYGD,KAZH,CAYSC,KAAK,IAAI;QACdC,OAAO,CAACC,GAAR,CAAYF,KAAZ;MACD,CAdH;IAeD,CAnBH,EAoBGD,KApBH,CAoBSC,KAAK,IAAI;MACdC,OAAO,CAACC,GAAR,CAAYF,KAAZ;IACD,CAtBH,EAN4B,CA8B5B;;IACAd,OAAO,CAAC,EAAD,CAAP;IACAE,OAAO,CAAC,EAAD,CAAP;IACAE,QAAQ,CAAC,IAAD,CAAR;IACAE,QAAQ,CAAC,EAAD,CAAR;EACD,CAnCD;;EAqCA,oBACE;IAAK,SAAS,EAAC,KAAf;IAAA,wBACE;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,eAEE;MAAM,QAAQ,EAAEmB,YAAhB;MAAA,wBACE;QAAA,iCAEE;UAAO,IAAI,EAAC,MAAZ;UAAmB,KAAK,EAAE1B,IAA1B;UAAgC,QAAQ,EAAEkB;QAA1C;UAAA;UAAA;UAAA;QAAA,QAFF;MAAA;QAAA;QAAA;QAAA;MAAA,QADF,eAKE;QAAA;QAAA;QAAA;MAAA,QALF,eAME;QAAA,iCAEE;UAAU,KAAK,EAAEhB,IAAjB;UAAuB,QAAQ,EAAEoB;QAAjC;UAAA;UAAA;UAAA;QAAA,QAFF;MAAA;QAAA;QAAA;QAAA;MAAA,QANF,eAUE;QAAA;QAAA;QAAA;MAAA,QAVF,eAWE;QAAA,kCAEE;UAAO,IAAI,EAAC,MAAZ;UAAmB,QAAQ,EAAEC;QAA7B;UAAA;UAAA;UAAA;QAAA,QAFF;MAAA;QAAA;QAAA;QAAA;MAAA,QAXF,eAeE;QAAA;QAAA;QAAA;MAAA,QAfF,eAgBE;QAAA,kCAEE;UAAO,IAAI,EAAC,MAAZ;UAAmB,KAAK,EAAEjB,KAA1B;UAAiC,QAAQ,EAAEmB;QAA3C;UAAA;UAAA;UAAA;QAAA,QAFF;MAAA;QAAA;QAAA;QAAA;MAAA,QAhBF,eAoBE;QAAA;QAAA;QAAA;MAAA,QApBF,eAqBE;QAAQ,IAAI,EAAC,QAAb;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QArBF;IAAA;MAAA;MAAA;MAAA;IAAA,QAFF,eA0BE;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QA1BF,eA2BE;MAAA,UACGjB,KAAK,CAAC0B,GAAN,CAAU,CAACC,IAAD,EAAOC,KAAP,kBACT;QAAA,wBACE;UAAA,UAASD,IAAI,CAACE;QAAd;UAAA;UAAA;UAAA;QAAA,QADF,QACiCF,IAAI,CAACG,KADtC,oBAC6C;UAAA;UAAA;UAAA;QAAA,QAD7C,EAEGH,IAAI,CAACI,IAFR,eAEa;UAAA;UAAA;UAAA;QAAA,QAFb,eAGE;UAAK,GAAG,EAAG,gCAA+BJ,IAAI,CAACK,KAAM,EAArD;UAAwD,GAAG,EAAEL,IAAI,CAACE;QAAlE;UAAA;UAAA;UAAA;QAAA,QAHF;MAAA,GAASD,KAAT;QAAA;QAAA;QAAA;MAAA,QADD;IADH;MAAA;MAAA;MAAA;IAAA,QA3BF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAuCD;;GA9GQrC,O;;KAAAA,O;AAgHT,eAAgBA,OAAhB"},"metadata":{},"sourceType":"module"}