{"ast":null,"code":"var _jsxFileName = \"/home/achwak/Desktop/SchoolAssistant-pcd-project/UI/src/views/face.js\",\n    _s = $RefreshSig$();\n\nimport { Routes, Route, useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport Webcam from 'react-webcam';\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Face() {\n  _s();\n\n  const webcamRef = useRef(null);\n  const [name, setName] = useState(null);\n  const [logged_in, setlogged_in] = useState(false);\n  const navigate = useNavigate();\n\n  const capture = async () => {\n    const imageSrc = webcamRef.current.getScreenshot();\n\n    if (!imageSrc) {\n      console.log(\"dfgf\");\n      return;\n    }\n\n    const formData = new FormData();\n    formData.append('image', imageSrc);\n    fetch('http://localhost:5000/login', {\n      method: 'POST',\n      body: formData\n    }).then(response => {\n      console.log(response);\n      setName(response.statusText);\n      setlogged_in(true);\n    }).catch(error => {\n      console.error(error);\n    });\n    /*   const response = await axios.post('http://localhost:5000/login', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      }); */\n\n    /* setName(response.data);\n    } catch (error) {\n    console.log(error);\n    setName(\"Error: face not recognized\");\n    } */\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page-header header-filter\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wrapper\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"page-header\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"content-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"content-center brand\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [logged_in === false ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(Webcam, {\n                audio: false,\n                ref: webcamRef,\n                screenshotFormat: \"image/jpeg\",\n                width: 640,\n                height: 480\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"submit\",\n                  value: \"Authenticate Me\",\n                  onClick: () => {\n                    capture();\n                  },\n                  className: \"btn btn-primary\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 72,\n                  columnNumber: 13\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n              children: name !== (null || \"You are unknown\") ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"details\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                    children: [\"Hello \", name, \" !\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 82,\n                    columnNumber: 17\n                  }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 83,\n                    columnNumber: 17\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-group\",\n                    children: \"                  \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 86,\n                    columnNumber: 17\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 81,\n                  columnNumber: 13\n                }, this)\n              }, void 0, false) : /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"\\\"unknown\\\"\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 93,\n                  columnNumber: 11\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 9\n            }, this), \"  \"]\n          }, void 0, true)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 3\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 3\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Face, \"aLi3p5jI9cJvbPZNdQJg8a54y+w=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Face;\n\nvar _c;\n\n$RefreshReg$(_c, \"Face\");","map":{"version":3,"names":["Routes","Route","useNavigate","axios","Webcam","React","useState","useEffect","useRef","Face","webcamRef","name","setName","logged_in","setlogged_in","navigate","capture","imageSrc","current","getScreenshot","console","log","formData","FormData","append","fetch","method","body","then","response","statusText","catch","error"],"sources":["/home/achwak/Desktop/SchoolAssistant-pcd-project/UI/src/views/face.js"],"sourcesContent":["import { Routes , Route , useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport Webcam from 'react-webcam';\nimport React, { useState, useEffect, useRef } from \"react\";\n\nexport default function Face ()  {\n  const webcamRef = useRef(null);\n    const [name, setName] = useState(null);\n\n    const [logged_in, setlogged_in] = useState(false);\n    const navigate = useNavigate();\n  const capture = async () => {\n   \n    const imageSrc = webcamRef.current.getScreenshot();\n    if (!imageSrc) {\n      console.log(\"dfgf\")\n      return;\n    }\n    const formData = new FormData();\n    formData.append('image', imageSrc);\n\n      fetch('http://localhost:5000/login', {\n        method: 'POST',\n     \n        body:\n          formData        \n      })\n        .then((response) =>{ \n          console.log(response)\n          setName(response.statusText)\n        setlogged_in(true)\n      })\n        \n     \n      .catch(error => {\n        console.error(error);\n      });\n    \n    /*   const response = await axios.post('http://localhost:5000/login', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      }); */\n\n        /* setName(response.data);\n      } catch (error) {\n        console.log(error);\n        setName(\"Error: face not recognized\");\n      } */\n  \n  }\n  return (\n    <div className=\"page-header header-filter\">\n    <div className=\"wrapper\">\n  <div className=\"page-header\">\n  <div className=\"content-center\">\n\n    \n      <div className=\"content-center brand\" ></div>\n\n    <>\n        {logged_in === false ?\n        <>\n          <Webcam\n        audio={false}\n        ref={webcamRef}\n        screenshotFormat=\"image/jpeg\"\n        width={640}\n        height={480}\n      />\n        <div className=\"form-group\"  >\n            <input type=\"submit\" value=\"Authenticate Me\" onClick={()=>{capture()}} className=\"btn btn-primary\" />\n        </div>\n     \n        </>\n        :\n        <div>\n\n           {name !== (null || \"You are unknown\") ?\n        <>\n            <div className=\"details\">\n                <h1>Hello {name} !</h1>\n                <br />\n                \n                \n                <div className=\"form-group\">\n{/*                       <input type=\"submit\" value=\"Logout\" onClick={()=>{this.setState({msg:null,logged_in:false})}} className=\"btn btn-primary\" />\n*/}                  </div>  \n            </div>\n            </>\n        :\n        <div>\n          <p>\"unknown\"</p>\n        </div>\n        }\n        </div>\n        \n        }  </>\n        \n \n  </div>\n  </div>\n  </div>\n  </div>\n   \n   \n)\n}\n \n\n\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}